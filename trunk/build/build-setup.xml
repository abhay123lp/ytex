<project name="build-setup">
	<!-- override these variables using eclipse settings/command line -->
	<property name="maveric.home" value="C:/java/MavericArcApp-1.0.0" />
	<property name="ytex.home" value="../" />
	<target name="all" depends="templateToConfig,setupMavericResources,setupDatabase"/>
	<target name="setupDatabase" description="setup ytex database tables">
		<ant dir="${ytex.home}/data.mssql" target="all" />
	</target>
	<target name="templateToConfig" description="generate config files from templates using values specified in ytex.properties">
		<copy todir="${ytex.home}/config/desc" overwrite="yes">
			<fileset dir="${ytex.home}/config/desc" includes="**/*.template.xml" />
			<globmapper from="*.template.xml" to="*.xml" />
			<filterset>
				<filtersfile file="${ytex.home}/config/desc/ytex.properties" />
			</filterset>
		</copy>
		<copy todir="${ytex.home}/config/desc" overwrite="yes">
			<fileset dir="${ytex.home}/config/desc" includes="**/*.template.properties" />
			<globmapper from="*.template.properties" to="*.properties" />
			<filterset>
				<filtersfile file="${ytex.home}/config/desc/ytex.properties" />
			</filterset>
		</copy>
	</target>
	<target name="setupMavericResources" description="copy resources from maveric to ytex">
		<delete dir="${ytex.home}/maveric/resources" quiet="yes" />
		<mkdir dir="${ytex.home}/maveric/resources" />
		<copy todir="${ytex.home}/maveric/resources">
			<fileset dir="${maveric.home}">
				<include name="lookup/**/*.*" />
				<include name="lvg/**/*.*" />
				<include name="models/**/*.*" />
				<include name="sentdetect/**/*.*" />
				<include name="tokenizer/**/*.*" />
			</fileset>
		</copy>
	</target>

</project>